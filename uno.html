<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>UNO Card Game</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background: linear-gradient(135deg, #2c3e50, #1a1a2e);
            color: #fff;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 20px;
        }
        
        header {
            text-align: center;
            margin-bottom: 30px;
            width: 100%;
        }
        
        h1 {
            font-size: 3rem;
            margin-bottom: 10px;
            color: #ffcc00;
            text-shadow: 3px 3px 0 #ff3300;
            letter-spacing: 2px;
        }
        
        .game-info {
            background: rgba(0, 0, 0, 0.3);
            border-radius: 10px;
            padding: 15px;
            margin-bottom: 20px;
            width: 100%;
            max-width: 800px;
            text-align: center;
        }
        
        .game-container {
            display: flex;
            flex-direction: column;
            align-items: center;
            width: 100%;
            max-width: 900px;
        }
        
        .discard-pile {
            width: 120px;
            height: 180px;
            border-radius: 10px;
            margin: 30px 0;
            box-shadow: 0 0 20px rgba(255, 255, 255, 0.2);
            position: relative;
            display: flex;
            justify-content: center;
            align-items: center;
            background: rgba(255, 255, 255, 0.1);
            border: 2px dashed rgba(255, 255, 255, 0.3);
        }
        
        .discard-pile-card {
            width: 100%;
            height: 100%;
            border-radius: 10px;
            display: flex;
            justify-content: center;
            align-items: center;
            font-size: 2.5rem;
            font-weight: bold;
            position: absolute;
        }
        
        .player-hand {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            gap: 15px;
            margin: 30px 0;
            min-height: 200px;
        }
        
        .card {
            width: 90px;
            height: 135px;
            border-radius: 10px;
            display: flex;
            flex-direction: column;
            justify-content: space-between;
            align-items: center;
            padding: 10px;
            font-weight: bold;
            cursor: pointer;
            transition: transform 0.2s, box-shadow 0.2s;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.3);
            position: relative;
            overflow: hidden;
        }
        
        .card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 10px;
        }
        
        .card:hover {
            transform: translateY(-15px);
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.5);
        }
        
        .card-value {
            font-size: 2rem;
            z-index: 1;
        }
        
        .card-color {
            font-size: 0.9rem;
            text-transform: uppercase;
            z-index: 1;
        }
        
        .red {
            background: linear-gradient(135deg, #ff5252, #b33939);
            color: white;
        }
        
        .blue {
            background: linear-gradient(135deg, #227093, #1e6fa7);
            color: white;
        }
        
        .green {
            background: linear-gradient(135deg, #2ed573, #218c74);
            color: white;
        }
        
        .yellow {
            background: linear-gradient(135deg, #ffb142, #cc8e35);
            color: white;
        }
        
        .black {
            background: linear-gradient(135deg, #2c2c54, #40407a);
            color: white;
        }
        
        .controls {
            display: flex;
            gap: 20px;
            margin-top: 20px;
        }
        
        button {
            padding: 15px 30px;
            border: none;
            border-radius: 50px;
            font-size: 1.1rem;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.3);
        }
        
        #draw-btn {
            background: linear-gradient(135deg, #3498db, #2980b9);
            color: white;
        }
        
        #new-game-btn {
            background: linear-gradient(135deg, #9b59b6, #8e44ad);
            color: white;
        }
        
        button:hover {
            transform: translateY(-3px);
            box-shadow: 0 6px 12px rgba(0, 0, 0, 0.4);
        }
        
        button:active {
            transform: translateY(0);
        }
        
        .message {
            margin-top: 20px;
            padding: 15px 30px;
            border-radius: 50px;
            font-weight: bold;
            text-align: center;
            opacity: 0;
            transition: opacity 0.3s;
            background: rgba(255, 255, 255, 0.2);
        }
        
        .message.show {
            opacity: 1;
        }
        
        .win-message {
            background: rgba(46, 213, 115, 0.3);
        }
        
        .invalid-message {
            background: rgba(255, 82, 82, 0.3);
        }
        
        .deck {
            width: 120px;
            height: 180px;
            border-radius: 10px;
            background: linear-gradient(135deg, #3498db, #2980b9);
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.3);
            display: flex;
            justify-content: center;
            align-items: center;
            color: white;
            font-size: 2rem;
            margin-bottom: 30px;
            position: relative;
            cursor: pointer;
        }
        
        .deck::after {
            content: 'UNO';
            position: absolute;
            font-size: 1.5rem;
            font-weight: bold;
        }
        
        .card-back {
            background: repeating-linear-gradient(
                45deg,
                #3498db,
                #3498db 10px,
                #2980b9 10px,
                #2980b9 20px
            );
        }
        
        .card-back::before {
            content: '';
            position: absolute;
            top: 10px;
            left: 10px;
            right: 10px;
            bottom: 10px;
            border: 2px solid white;
            border-radius: 5px;
        }
        
        @media (max-width: 768px) {
            .card {
                width: 70px;
                height: 105px;
                font-size: 0.8rem;
            }
            
            .card-value {
                font-size: 1.5rem;
            }
            
            .discard-pile, .deck {
                width: 90px;
                height: 135px;
            }
            
            h1 {
                font-size: 2.5rem;
            }
        }
    </style>
</head>
<body>
    <header>
        <h1>UNO</h1>
        <p>Match the color or value of the top card to play. Empty your hand to win!</p>
    </header>
    
    <div class="game-info">
        <p>Cards in deck: <span id="deck-count">69</span> | Your cards: <span id="hand-count">7</span></p>
    </div>
    
    <div class="game-container">
        <div class="deck card-back" id="deck">
            <!-- Deck visual -->
        </div>
        
        <div class="discard-pile">
            <div class="discard-pile-card red" id="top-card">
                <span class="card-value">7</span>
            </div>
        </div>
        
        <div class="player-hand" id="player-hand">
            <!-- Player's cards will be generated here -->
        </div>
        
        <div class="controls">
            <button id="draw-btn">Draw Card</button>
            <button id="new-game-btn">New Game</button>
        </div>
        
        <div class="message" id="message"></div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            // Game state variables
            let deck = [];
            let playerHand = [];
            let discardPile = [];
            let currentColor = '';
            let currentValue = '';
            
            // DOM elements
            const deckElement = document.getElementById('deck');
            const playerHandElement = document.getElementById('player-hand');
            const topCardElement = document.getElementById('top-card');
            const drawButton = document.getElementById('draw-btn');
            const newGameButton = document.getElementById('new-game-btn');
            const messageElement = document.getElementById('message');
            const deckCountElement = document.getElementById('deck-count');
            const handCountElement = document.getElementById('hand-count');
            
            // Initialize the game
            initializeGame();
            
            // Event listeners
            drawButton.addEventListener('click', drawCard);
            newGameButton.addEventListener('click', initializeGame);
            deckElement.addEventListener('click', drawCard);
            
            // Initialize game function
            function initializeGame() {
                // Clear any messages
                hideMessage();
                
                // Create and shuffle the deck
                deck = createDeck();
                shuffleDeck(deck);
                
                // Deal initial cards
                playerHand = deck.splice(0, 7);
                
                // Set up the discard pile with the first card
                discardPile = [deck.pop()];
                updateTopCard();
                
                // Update UI
                renderPlayerHand();
                updateCounts();
            }
            
            // Create a full UNO deck
            function createDeck() {
                const colors = ['red', 'blue', 'green', 'yellow'];
                const values = ['0', '1', '2', '3', '4', '5', '6', '7', '8', '9', 'Skip', 'Reverse', 'Draw Two'];
                const deck = [];
                
                // Create number and action cards for each color
                colors.forEach(color => {
                    // Add one zero per color
                    deck.push({ color, value: '0' });
                    
                    // Add two of each number and action card per color
                    for (let i = 1; i < values.length; i++) {
                        deck.push({ color, value: values[i] });
                        deck.push({ color, value: values[i] });
                    }
                });
                
                // Add Wild cards
                for (let i = 0; i < 4; i++) {
                    deck.push({ color: 'black', value: 'Wild' });
                    deck.push({ color: 'black', value: 'Wild Draw Four' });
                }
                
                return deck;
            }
            
            // Shuffle the deck using Fisher-Yates algorithm
            function shuffleDeck(deck) {
                for (let i = deck.length - 1; i > 0; i--) {
                    const j = Math.floor(Math.random() * (i + 1));
                    [deck[i], deck[j]] = [deck[j], deck[i]];
                }
            }
            
            // Render player's hand
            function renderPlayerHand() {
                playerHandElement.innerHTML = '';
                
                playerHand.forEach((card, index) => {
                    const cardElement = document.createElement('div');
                    cardElement.className = `card ${card.color}`;
                    cardElement.innerHTML = `
                        <span class="card-value">${card.value}</span>
                        <span class="card-color">${card.color}</span>
                    `;
                    
                    cardElement.addEventListener('click', () => playCard(index));
                    
                    playerHandElement.appendChild(cardElement);
                });
            }
            
            // Update the top card display
            function updateTopCard() {
                const topCard = discardPile[discardPile.length - 1];
                currentColor = topCard.color;
                currentValue = topCard.value;
                
                topCardElement.className = `discard-pile-card ${topCard.color}`;
                topCardElement.innerHTML = `<span class="card-value">${topCard.value}</span>`;
            }
            
            // Update card counts display
            function updateCounts() {
                deckCountElement.textContent = deck.length;
                handCountElement.textContent = playerHand.length;
            }
            
            // Draw a card from the deck
            function drawCard() {
                if (deck.length === 0) {
                    showMessage("No more cards in the deck!", "invalid-message");
                    return;
                }
                
                const drawnCard = deck.pop();
                playerHand.push(drawnCard);
                
                renderPlayerHand();
                updateCounts();
                
                showMessage("You drew a card", "");
                setTimeout(hideMessage, 1000);
            }
            
            // Play a card from player's hand
            function playCard(index) {
                const card = playerHand[index];
                
                // Check if the card is valid to play
                if (isValidMove(card)) {
                    // Remove card from hand and add to discard pile
                    playerHand.splice(index, 1);
                    discardPile.push(card);
                    
                    // Update UI
                    updateTopCard();
                    renderPlayerHand();
                    updateCounts();
                    
                    // Check for win condition
                    if (playerHand.length === 0) {
                        showMessage("You won! 🎉", "win-message");
                    }
                } else {
                    showMessage("Invalid move! Match color or value.", "invalid-message");
                    setTimeout(hideMessage, 1500);
                }
            }
            
            // Check if a card is a valid move
            function isValidMove(card) {
                const topCard = discardPile[discardPile.length - 1];
                
                // Wild cards are always valid
                if (card.color === 'black') {
                    return true;
                }
                
                // Match color or value
                if (card.color === topCard.color || card.value === topCard.value) {
                    return true;
                }
                
                return false;
            }
            
            // Show message to player
            function showMessage(text, className) {
                messageElement.textContent = text;
                messageElement.className = `message show ${className}`;
            }
            
            // Hide message
            function hideMessage() {
                messageElement.className = 'message';
            }
        });
    </script>
</body>
</html>
