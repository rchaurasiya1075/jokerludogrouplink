<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Live Ludo Groups - JokerLudo | Join WhatsApp Groups 2026</title>

  <meta name="description" content="Join 1000+ Live Ludo WhatsApp Groups. Ludo King, Star, Betting, Earning groups updated every minute." />
  <meta name="keywords" content="Ludo WhatsApp group join, live ludo groups, Ludo King group link" />
  <meta name="theme-color" content="#ff6b6b" />
  
  <!-- üî• FIREBASE SDK -->
  <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-firestore-compat.js"></script>
  
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
  
  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; }
    
    :root {
      --coral: #ff6b6b;
      --gradient-1: linear-gradient(135deg, #ff6b6b 0%, #ff8e8e 50%, #a78bfa 100%);
      --gradient-joker: linear-gradient(135deg, #00ff88 0%, #00cc6a 100%);
      --glass: rgba(255,255,255,0.95);
      --shadow: 0 20px 40px rgba(255,107,107,0.2);
      --text-dark: #1e293b;
      --text-light: #64748b;
    }

    * { transition: all 0.4s cubic-bezier(0.25, 0.46, 0.45, 0.94) !important; }

    body {
      font-family: 'Inter', sans-serif;
      background: linear-gradient(-45deg, #f093fb 0%, #f5576c 25%, #4facfe 50%, #00f2fe 100%);
      background-size: 400% 400%;
      animation: gradientShift 20s ease infinite;
      min-height: 100vh;
      color: var(--text-dark);
      overflow-x: hidden;
    }

    @keyframes gradientShift { 0%, 100% { background-position: 0% 50%; } 50% { background-position: 100% 50%; } }

    /* üî• HEADER (SAME PERFECT) */
    .header {
      position: fixed; top: 0; left: 0; width: 100%; height: 70px;
      background: rgba(255,255,255,0.97); backdrop-filter: blur(30px);
      border-bottom: 1px solid rgba(255,255,255,0.4); z-index: 1000;
      padding: 0 1.5rem; display: flex; align-items: center; justify-content: space-between;
      box-shadow: 0 4px 20px rgba(0,0,0,0.1);
    }

    .logo-section { display: flex; align-items: center; gap: 12px; text-decoration: none; }
    .logo-icon {
      width: 42px; height: 42px; background: var(--gradient-1); border-radius: 12px;
      display: flex; align-items: center; justify-content: center; font-size: 20px; color: white;
      box-shadow: 0 8px 25px rgba(255,107,107,0.4);
    }
    .logo-text {
      font-size: 22px; font-weight: 800; background: var(--gradient-1);
      -webkit-background-clip: text; -webkit-text-fill-color: transparent;
    }

    .nav-menu { display: flex; list-style: none; gap: 12px; align-items: center; }
    .nav-link {
      color: var(--text-dark); text-decoration: none; font-weight: 600; font-size: 15px;
      padding: 12px 20px; border-radius: 25px; background: rgba(255,255,255,0.8);
      backdrop-filter: blur(15px); box-shadow: 0 4px 15px rgba(0,0,0,0.08);
    }
    .nav-link:hover, .nav-link.active { 
      background: var(--gradient-1); color: white !important; 
      transform: translateY(-2px) scale(1.02); box-shadow: 0 12px 35px rgba(255,107,107,0.5);
    }

    .hamburger {
      display: none; background: none; border: none; font-size: 24px; color: var(--text-dark);
      cursor: pointer; padding: 8px; border-radius: 8px; width: 48px; height: 48px;
      display: flex; align-items: center; justify-content: center;
    }

    /* MOBILE MENU */
    .mobile-menu { position: fixed; top: 0; right: -100%; width: 280px; height: 100vh; 
      background: rgba(255,255,255,0.98); backdrop-filter: blur(30px); box-shadow: -10px 0 40px rgba(0,0,0,0.2); 
      z-index: 999; padding: 80px 0 2rem 0; transition: right 0.4s ease; }
    .mobile-menu.active { right: 0; }
    .overlay { position: fixed; top: 0; left: 0; width: 100%; height: 100%; 
      background: rgba(0,0,0,0.5); opacity: 0; visibility: hidden; z-index: 998; transition: all 0.4s ease; }
    .overlay.active { opacity: 1; visibility: visible; }

    .main-content { margin-top: 80px; padding: 1.5rem 1.5rem 4rem; max-width: 1400px; margin-left: auto; margin-right: auto; }

    /* üî• HERO */
    .hero-section {
      text-align: center; padding: 3rem 1.5rem; background: var(--glass);
      backdrop-filter: blur(30px); border-radius: 24px; box-shadow: var(--shadow);
      border: 1px solid rgba(255,255,255,0.3); margin-bottom: 2rem;
    }
    .hero-title {
      font-size: clamp(2.5rem, 6vw, 4rem); font-weight: 900; background: var(--gradient-1);
      -webkit-background-clip: text; -webkit-text-fill-color: transparent; margin-bottom: 1rem;
    }

    /* üî• FILTER TABS */
    .filter-tabs {
      display: flex; gap: 10px; justify-content: center; flex-wrap: wrap; margin-bottom: 2rem;
      padding: 1rem; background: var(--glass); backdrop-filter: blur(20px); border-radius: 20px;
    }
    .filter-tab {
      padding: 12px 20px; background: rgba(255,255,255,0.7); border: 2px solid rgba(255,255,255,0.3);
      border-radius: 25px; font-weight: 700; font-size: 14px; cursor: pointer; 
      backdrop-filter: blur(15px); transition: all 0.3s ease;
    }
    .filter-tab.active, .filter-tab:hover {
      background: var(--gradient-1); color: white; transform: translateY(-2px);
      box-shadow: 0 10px 30px rgba(255,107,107,0.4);
    }

    /* üî• GROUPS GRID - FIREBASE REAL-TIME */
    .groups-container {
      min-height: 400px; display: grid; grid-template-columns: repeat(auto-fill, minmax(350px, 1fr));
      gap: 1.5rem; margin-bottom: 2rem;
    }

    .group-card {
      background: var(--glass); backdrop-filter: blur(25px); border-radius: 20px;
      padding: 1.5rem; border: 1px solid rgba(255,255,255,0.3); box-shadow: var(--shadow);
      animation: slideInUp 0.5s ease forwards; opacity: 0; transform: translateY(30px);
      cursor: pointer; transition: all 0.3s ease;
    }
    .group-card:hover {
      transform: translateY(-8px); box-shadow: 0 25px 50px rgba(0,0,0,0.15);
    }
    .group-card.live { border-left: 5px solid #00ff88; }
    .group-card.paused { border-left: 5px solid #f59e0b; opacity: 0.7; }

    @keyframes slideInUp {
      to { opacity: 1; transform: translateY(0); }
    }

    .group-header { display: flex; align-items: flex-start; gap: 12px; margin-bottom: 1rem; }
    .group-icon { 
      width: 50px; height: 50px; border-radius: 12px; display: flex; align-items: center; 
      justify-content: center; font-size: 20px; flex-shrink: 0;
    }
    .group-name { font-size: 1.3rem; font-weight: 800; color: var(--text-dark); margin-bottom: 0.3rem; }
    .group-meta { display: flex; gap: 12px; flex-wrap: wrap; margin-bottom: 1rem; }
    .meta-tag {
      padding: 6px 12px; background: rgba(255,255,255,0.5); border-radius: 20px;
      font-size: 12px; font-weight: 600; color: var(--text-dark);
    }
    .group-desc { color: var(--text-light); line-height: 1.6; margin-bottom: 1.5rem; }
    
    .group-join-btn {
      width: 100%; background: var(--gradient-joker); color: white; padding: 14px;
      border: none; border-radius: 16px; font-size: 16px; font-weight: 700; cursor: pointer;
      box-shadow: 0 12px 30px rgba(0,255,136,0.4); display: flex; align-items: center;
      justify-content: center; gap: 8px; text-transform: uppercase; letter-spacing: 0.5px;
    }
    .group-join-btn:hover { 
      transform: translateY(-3px); box-shadow: 0 20px 40px rgba(0,255,136,0.6); 
    }

    /* üî• LOADING */
    .loading-groups {
      grid-column: 1 / -1; text-align: center; padding: 4rem 2rem; color: var(--text-light);
    }
    .spinner { 
      width: 50px; height: 50px; border: 4px solid rgba(255,255,255,0.3); 
      border-top: 4px solid var(--gradient-1); border-radius: 50%; 
      animation: spin 1s linear infinite; margin: 0 auto 2rem;
    }
    @keyframes spin { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }

    /* RESPONSIVE */
    @media (max-width: 768px) {
      .hamburger { display: flex !important; } .nav-menu { display: none !important; }
      .main-content { margin-top: 75px; padding: 1rem 1rem 4rem; }
      .groups-container { grid-template-columns: 1fr; gap: 1rem; }
      .filter-tabs { flex-direction: column; align-items: center; }
    }
  </style>
</head>
<body>
  <!-- üî• HEADER -->
  <header class="header">
    <a href="index.html" class="logo-section">
      <div class="logo-icon">üéÆ</div><span class="logo-text">JokerLudo</span>
    </a>
    <ul class="nav-menu">
      <li><a href="index.html" class="nav-link">üè† Home</a></li>
      <li><a href="join.html" class="nav-link active">üë• Live Groups</a></li>
      <li><a href="Addgrouplink.html" class="nav-link">‚ûï Add Group</a></li>
      <li><a href="rules.html" class="nav-link">üìú Rules</a></li>
    </ul>
    <button class="hamburger" id="hamburger"><i class="fas fa-bars"></i></button>
  </header>

  <!-- MOBILE MENU -->
  <div class="overlay" id="overlay"></div>
  <nav class="mobile-menu" id="mobileMenu">
    <ul>
      <li><a href="index.html" class="mobile-nav-link">üè† Home</a></li>
      <li><a href="join.html" class="mobile-nav-link active">üë• Live Groups</a></li>
      <li><a href="Addgrouplink.html" class="mobile-nav-link">‚ûï Add Group</a></li>
      <li><a href="rules.html" class="mobile-nav-link">üìú Rules</a></li>
    </ul>
  </nav>

  <main class="main-content">
    <!-- HERO -->
    <section class="hero-section">
      <h1 class="hero-title">üë• Live Ludo Groups</h1>
      <p style="font-size: 1.2rem; color: var(--text-light);">
        üî• Real-time Firebase sync - New groups appear instantly!
      </p>
    </section>

    <!-- FILTERS -->
    <div class="filter-tabs">
      <button class="filter-tab active" data-filter="all">All Groups</button>
      <button class="filter-tab" data-filter="Ludo King">üé≤ Ludo King</button>
      <button class="filter-tab" data-filter="Ludo Star">‚≠ê Ludo Star</button>
      <button class="filter-tab" data-filter="Betting">üí∞ Betting</button>
      <button class="filter-tab" data-filter="Earning">üíµ Earning</button>
    </div>

    <!-- üî• FIREBASE GROUPS CONTAINER -->
    <div class="groups-container" id="groupsContainer">
      <div class="loading-groups">
        <div class="spinner"></div>
        <h3>üî• Loading Live Groups...</h3>
        <p>Real-time sync from Firebase Firestore</p>
      </div>
    </div>
  </main>

  <!-- üî• FIREBASE CONFIG (SAME AS ADDGROUP) -->
  <script>
    // üî• YOUR FIREBASE CONFIG - SAME AS ADDGROUP.HTML
    const firebaseConfig = {
      apiKey: "AIzaSyXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX",  // YOUR SAME CONFIG
      authDomain: "your-project.firebaseapp.com",
      projectId: "your-project-id",
      storageBucket: "your-project.appspot.com",
      messagingSenderId: "123456789",
      appId: "1:123456789:web:xxxxxxxxxxxxxxxxxx"
    };

    // Initialize Firebase
    firebase.initializeApp(firebaseConfig);
    const db = firebase.firestore();

    // üî• MOBILE MENU
    document.getElementById('hamburger').onclick = () => {
      document.getElementById('mobileMenu').classList.toggle('active');
      document.getElementById('overlay').classList.toggle('active');
    };
    document.getElementById('overlay').onclick = () => {
      document.getElementById('mobileMenu').classList.remove('active');
      document.getElementById('overlay').classList.remove('active');
    };

    // üî• FIREBASE REAL-TIME LISTENER - SHOWS ADDED GROUPS
    let allGroups = [];
    const groupsContainer = document.getElementById('groupsContainer');

    // Real-time listener for ludoGroups collection
    db.collection('ludoGroups')
      .orderBy('timestamp', 'desc')
      .onSnapshot((snapshot) => {
        allGroups = [];
        
        snapshot.forEach((doc) => {
          const group = doc.data();
          if (group.status === 'live') {  // Only show live groups
            allGroups.push({ id: doc.id, ...group });
          }
        });

        // Update display
        displayGroups(allGroups);
        console.log(`üî• Loaded ${allGroups.length} live groups from Firebase`);
      }, (error) => {
        console.error('Firebase Error:', error);
        groupsContainer.innerHTML = '<div class="loading-groups"><p>‚ùå Error loading groups</p></div>';
      });

    // üî• DISPLAY GROUPS FUNCTION
    function displayGroups(groups) {
      if (!groups || groups.length === 0) {
        groupsContainer.innerHTML = `
          <div class="loading-groups" style="grid-column: 1/-1;">
            <div style="font-size: 4rem; margin-bottom: 1rem;">üéÆ</div>
            <h3>No Live Groups Yet</h3>
            <p>Be the first to add a group from <a href="Addgrouplink.html" style="color: var(--coral);">‚ûï Add Group</a></p>
          </div>
        `;
        return;
      }

      let html = '';
      groups.forEach((group, index) => {
        const icon = group.category === 'Ludo King' ? 'üé≤' : 
                    group.category === 'Ludo Star' ? '‚≠ê' : 
                    group.category === 'Betting' ? 'üí∞' : 'üíµ';
        
        html += `
          <div class="group-card live" style="animation-delay: ${index * 0.1}s;" data-category="${group.category}">
            <div class="group-header">
              <div class="group-icon" style="background: var(--gradient-joker); color: white;">
                ${icon}
              </div>
              <div>
                <div class="group-name">${group.name || 'Unnamed Group'}</div>
                <div class="group-meta">
                  <span class="meta-tag">${group.category || 'Uncategorized'}</span>
                  <span class="meta-tag">üë• ${group.members || 0}+ Members</span>
                </div>
              </div>
            </div>
            <p class="group-desc">${group.description || 'Live Ludo group'}</p>
            <a href="${group.link}" target="_blank" class="group-join-btn">
              üöÄ Join Group Instantly
            </a>
          </div>
        `;
      });

      groupsContainer.innerHTML = html;
      
      // Add filter functionality
      document.querySelectorAll('.filter-tab').forEach(tab => {
        tab.onclick = () => {
          document.querySelector('.filter-tab.active').classList.remove('active');
          tab.classList.add('active');
          
          const filter = tab.dataset.filter;
          const cards = document.querySelectorAll('.group-card');
          
          cards.forEach(card => {
            if (filter === 'all' || card.dataset.category === filter) {
              card.style.display = 'block';
              card.style.animation = 'slideInUp 0.5s ease forwards';
            } else {
              card.style.display = 'none';
            }
          });
        };
      });
    }

    // üî• AUTO REFRESH EVERY 30s (backup)
    setInterval(() => {
      console.log('üîÑ Auto refresh check...');
    }, 30000);
  </script>
</body>
</html>
