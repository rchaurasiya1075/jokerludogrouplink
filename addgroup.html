<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Add Ludo Group - JokerLudo</title>

  <!-- SEO Meta Tags -->
  <meta name="description" content="Add your Ludo WhatsApp group to JokerLudo directory. Get more members and players for your Ludo earning groups." />
  <meta name="keywords" content="add ludo whatsapp group, submit ludo group, list ludo whatsapp group, jokerludo group submission" />
  <meta name="author" content="JokerLudo Group" />
  <meta name="robots" content="index, follow" />

  <!-- Favicon -->
  <link rel="icon" href="/WhatsApp%20Image%202025-07-27%20at%2010.45.50.jpeg" type="image/jpeg" />

  <!-- Google AdSense Code -->
  <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-5367610923397725"
     crossorigin="anonymous"></script>

  <!-- Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-EZF7SRX6EJ"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){ dataLayer.push(arguments); }
    gtag('js', new Date());
    gtag('config', 'G-EZF7SRX6EJ');
  </script>

  <style>
    body {
      font-family: 'Poppins', sans-serif;
      margin: 0;
      padding: 0;
      background-color: #f5f5f5;
      color: #333;
    }

    .navbar {
      background: #2d2e52;
      padding: 20px;
      text-align: center;
    }

    .logo {
      font-size: 30px;
      font-weight: 700;
      color: #fff;
      text-decoration: none;
      display: block;
    }

    .nav-links {
      margin-top: 10px;
      display: flex;
      justify-content: center;
      gap: 15px;
      flex-wrap: wrap;
    }

    .nav-links a {
      color: #fff;
      text-decoration: none;
      font-weight: 500;
      padding: 8px 12px;
      border-radius: 5px;
      transition: background 0.3s;
    }

    .nav-links a:hover {
      background: #ffde59;
      color: #2d2e52;
    }

    .container {
      max-width: 800px;
      margin: 40px auto;
      padding: 20px;
      background: #fff;
      border-radius: 10px;
      box-shadow: 0 5px 15px rgba(0,0,0,0.1);
    }

    h1 {
      text-align: center;
      color: #2d2e52;
      margin-bottom: 20px;
    }

    label {
      display: block;
      margin-bottom: 5px;
      font-weight: 600;
    }

    input, select, textarea {
      width: 100%;
      padding: 12px;
      margin-bottom: 15px;
      border-radius: 5px;
      border: 1px solid #ddd;
      font-family: inherit;
      font-size: 16px;
    }

    .form-group {
      margin-bottom: 20px;
    }

    .note {
      background: #fffae6;
      padding: 15px;
      border-left: 5px solid #ffbf00;
      margin-bottom: 20px;
      font-size: 15px;
      border-radius: 5px;
    }

    .platforms {
      display: flex;
      gap: 15px;
      margin-bottom: 15px;
      flex-wrap: wrap;
    }

    .platforms label {
      display: flex;
      align-items: center;
      gap: 5px;
      font-weight: normal;
      cursor: pointer;
      padding: 8px 12px;
      background: #f5f5f5;
      border-radius: 5px;
    }

    .platforms input[type="checkbox"] {
      width: auto;
      margin: 0;
    }

    .submit-button {
      background: #2d2e52;
      color: white;
      padding: 12px 18px;
      font-size: 16px;
      font-weight: 600;
      border: none;
      border-radius: 5px;
      cursor: pointer;
      display: block;
      width: 100%;
      transition: background 0.3s;
    }

    .submit-button:hover {
      background: #ffde59;
      color: #2d2e52;
    }

    footer {
      background: #2d2e52;
      color: #fff;
      padding: 15px;
      text-align: center;
      font-size: 14px;
      margin-top: 40px;
    }

    .footer-links {
      margin-bottom: 8px;
      display: flex;
      justify-content: center;
      flex-wrap: wrap;
      gap: 15px;
    }

    .footer-links a {
      color: #fff;
      text-decoration: none;
    }

    .footer-links a:hover {
      color: #ffde59;
    }

    /* Success Popup Styles */
    .popup-overlay {
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: rgba(0,0,0,0.5);
      display: flex;
      justify-content: center;
      align-items: center;
      z-index: 1000;
      display: none;
    }

    .success-popup {
      background: white;
      padding: 30px;
      border-radius: 10px;
      text-align: center;
      max-width: 400px;
      width: 90%;
      box-shadow: 0 5px 15px rgba(0,0,0,0.2);
    }

    .success-icon {
      font-size: 50px;
      color: #4CAF50;
      margin-bottom: 15px;
    }

    .popup-close {
      background: #2d2e52;
      color: white;
      border: none;
      padding: 10px 20px;
      border-radius: 5px;
      margin-top: 20px;
      cursor: pointer;
      font-weight: 600;
    }

    @media (max-width: 600px) {
      .container {
        margin: 20px 10px;
        padding: 15px;
      }
      
      .nav-links {
        gap: 8px;
      }
      
      .nav-links a {
        padding: 6px 10px;
        font-size: 14px;
      }
    }
  </style>
</head>
<body>

  <nav class="navbar">
    <a href="index.html" class="logo">🎲 JokerLudo Group</a>
    <div class="nav-links">
      <a href="index.html">Home</a>
      <a href="rules.html">Rules</a>
      <a href="join.html">Join</a>
      <a href="addgroup.html">Add Group</a>
      <a href="contact.html">Contact</a>
      <a href="privacy.html">Privacy</a>
    </div>
  </nav>

  <div class="container">
    <h1>Add Your Ludo Group</h1>
    <div class="note">
      📢 <strong>Note:</strong> All group submissions are free. Groups will be published after admin approval.<br>
      ✅ No charges at all. Spam submissions will be banned.
    </div>

    <form id="groupForm">
      <div class="form-group">
        <label for="name">Group Name*</label>
        <input type="text" id="name" placeholder="Enter your group name" required>
      </div>

      <div class="form-group">
        <label for="link">Group Link*</label>
        <input type="url" id="link" placeholder="https://chat.whatsapp.com/yourgroup" required>
      </div>

      <div class="form-group">
        <label for="groupType">Group Type*</label>
        <select id="groupType" required>
          <option value="">Select Group Type</option>
          <option value="Gaming">Gaming</option>
          <option value="Earning">Earning Money</option>
          <option value="Tournament">Tournament</option>
          <option value="Casual">Casual Play</option>
          <option value="Competitive">Competitive</option>
          <option value="Regional">Regional</option>
          <option value="International">International</option>
        </select>
      </div>

      <div class="form-group">
        <label>Platforms*</label>
        <div class="platforms">
          <label><input type="checkbox" class="platform" value="WhatsApp" checked> WhatsApp</label>
          <label><input type="checkbox" class="platform" value="Telegram"> Telegram</label>
          <label><input type="checkbox" class="platform" value="Discord"> Discord</label>
          <label><input type="checkbox" class="platform" value="Facebook"> Facebook</label>
        </div>
      </div>

      <div class="form-group">
        <label for="description">Group Description (Optional)</label>
        <textarea id="description" rows="4" placeholder="Tell us about your group (rules, requirements, etc.)"></textarea>
      </div>

      <button type="submit" class="submit-button">Submit Group</button>
    </form>
  </div>

  <!-- Success Popup -->
  <div class="popup-overlay" id="successPopup">
    <div class="success-popup">
      <div class="success-icon">✓</div>
      <h3>Group Added Successfully!</h3>
      <p>Your group has been submitted for admin approval.</p>
      <button class="popup-close" onclick="closePopup()">OK</button>
    </div>
  </div>

  <footer>
    <div class="footer-links">
      <a href="index.html">Home</a>
      <a href="rules.html">Rules</a>
      <a href="join.html">Join</a>
      <a href="addgroup.html">Add Group</a>
      <a href="contact.html">Contact</a>
      <a href="privacy.html">Privacy</a>
    </div>
    <p>© 2025 JokerLudo Group. All Rights Reserved.</p>
  </footer>

  <!-- Firebase SDK -->
  <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
  <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-firestore.js"></script>

  <script>
<script>
  // Initialize Firebase with enhanced error handling
  const firebaseConfig = {
    apiKey: "AIzaSyCwdlnLXcXauh3_YmY6cwswqzcieMOHI0Y",
    authDomain: "ludogroup-a530a.firebaseapp.com",
    projectId: "ludogroup-a530a",
    storageBucket: "ludogroup-a530a.appspot.com",
    messagingSenderId: "838421084676",
    appId: "1:838421084676:web:9e02670e280eafcd86d351"
  };

  // Connection status elements
  const connectionStatus = document.createElement('div');
  connectionStatus.className = 'connection-status';
  document.body.appendChild(connectionStatus);

  // Test Firestore connection
  async function testConnection() {
    try {
      if (!firebase.apps.length) {
        firebase.initializeApp(firebaseConfig);
      }
      const db = firebase.firestore();
      
      // Test with a simple read operation
      await db.collection("Groups").limit(1).get();
      
      connectionStatus.innerHTML = '<span class="connected"><i class="fas fa-check-circle"></i> Connected to database</span>';
      return true;
    } catch (error) {
      console.error("Connection test failed:", error);
      connectionStatus.innerHTML = '<span class="disconnected"><i class="fas fa-exclamation-triangle"></i> Could not connect to database. Some features may not work.</span>';
      return false;
    }
  }

  // Initialize Firebase and test connection
  document.addEventListener('DOMContentLoaded', async () => {
    const isConnected = await testConnection();
    
    if (!isConnected) {
      // Show warning but still allow form submission attempt
      const form = document.getElementById('groupForm');
      form.addEventListener('submit', async (e) => {
        e.preventDefault();
        alert('Database connection failed. Please check your internet connection and try again.');
      });
      return;
    }

    // Proceed with normal form submission if connected
    const db = firebase.firestore();
    
    document.getElementById("groupForm").addEventListener("submit", async (e) => {
      e.preventDefault();
      
      // Get form values
      const name = document.getElementById("name").value.trim();
      const link = document.getElementById("link").value.trim();
      const groupType = document.getElementById("groupType").value;
      const description = document.getElementById("description").value.trim();
      const platforms = Array.from(document.querySelectorAll(".platform:checked")).map(cb => cb.value);

      // Validation
      if (!name || !link || !groupType || platforms.length === 0) {
        alert("Please fill all required fields");
        return;
      }

      try {
        // Show loading state
        const submitBtn = document.querySelector('.submit-button');
        submitBtn.disabled = true;
        submitBtn.innerHTML = '<i class="fas fa-spinner fa-spin"></i> Submitting...';

        // Add to Firestore
        await db.collection("Groups").add({
          name: name,
          link: link,
          type: groupType,
          platforms: platforms,
          description: description,
          status: "pending",
          timestamp: firebase.firestore.FieldValue.serverTimestamp(),
          created_at: new Date().toISOString()
        });

        // Show success
        submitBtn.innerHTML = '<i class="fas fa-check"></i> Submitted Successfully!';
        setTimeout(() => {
          submitBtn.innerHTML = 'Submit Group';
          submitBtn.disabled = false;
        }, 2000);

        // Send WhatsApp notification
        const phone = "9473746020";
        const message = `New Group Submission:%0A%0A📛 Name: ${name}%0A🔗 Link: ${link}%0A🏷 Type: ${groupType}%0A📱 Platforms: ${platforms.join(", ")}`;
        window.open(`https://wa.me/${phone}?text=${message}`, '_blank');
        
        // Reset form
        document.getElementById("groupForm").reset();

      } catch (error) {
        console.error("Submission error:", error);
        alert(`Submission failed: ${error.message}`);
        document.querySelector('.submit-button').disabled = false;
        document.querySelector('.submit-button').innerHTML = 'Submit Group';
      }
    });
  });
</script>

<style>
  /* Add these styles to your existing CSS */
  .connection-status {
    position: fixed;
    bottom: 20px;
    right: 20px;
    padding: 10px 15px;
    border-radius: 5px;
    z-index: 1000;
    font-size: 14px;
  }
  
  .connection-status .connected {
    color: #28a745;
    background: #e8f5e9;
    padding: 8px 12px;
    border-radius: 4px;
    display: inline-flex;
    align-items: center;
  }
  
  .connection-status .disconnected {
    color: #dc3545;
    background: #f8d7da;
    padding: 8px 12px;
    border-radius: 4px;
    display: inline-flex;
    align-items: center;
  }
  
  .connection-status i {
    margin-right: 8px;
  }
  
  .submit-button i {
    margin-right: 8px;
  }
</style>
</body>
</html>
